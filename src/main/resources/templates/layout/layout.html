<!doctype html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title th:text="${title} ?: '더드림'">더드림</title>

  <link th:href="@{/assets/css/style.css}" rel="stylesheet">
  <link th:href="@{/assets/css/app-theme.css}" rel="stylesheet">

  <!-- 파비콘(있으면) -->
  <link rel="icon" th:href="@{/assets/favicon/favicon.ico}">
</head>

<body th:classappend="${#authorization.expression('hasRole(''ADMIN'')')} ? 'theme-admin' : 'theme-user'">
  <!-- 사이드바 -->
  <div th:replace="layout/sidebar :: sidebar"></div>

  <!-- 메인 래퍼 -->
  <div class="wrapper d-flex flex-column min-vh-100 bg-light">
    <!-- 헤더 -->
    <header th:replace="layout/header :: header"></header>

    <!-- 본문 -->
    <div class="body flex-grow-1 px-3">
      <div class="container-lg" th:insert="${content}"> <!-- 페이지 본문 렌더 -->
        <!-- 페이지에서 section만 넘겨주면 됨 -->
      </div>
    </div>

    <!-- 푸터 -->
    <footer th:replace="layout/footer :: footer"></footer>
  </div>

  <!-- CoreUI/JS (dist에서 가져온 번들) -->
  <script th:src="@{/assets/js/coreui.bundle.min.js}"></script>
  <script th:src="@{/assets/js/app.js}"></script>
</body>
</html>
